import{b as B,c as m,d as T,e as M,g as q,k as O,m as L,n as D,o as z}from"./chunk-Q6UF563J.js";import{$ as _,A as E,E as v,F as d,H as e,I as t,J as p,L as j,N as i,O as c,P as y,S as u,T as f,Z as R,_ as A,d as w,fa as I,i as N,l as g,m as S,p as P,q as F,z as l}from"./chunk-BAVXKEK2.js";var b=class r{constructor(){this.firstNameAndLastnamePattern="([a-zA-Z]+) ([a-zA-Z]+)";this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$";this.cantBeStrider=a=>a.value.trim().toLowerCase()==="strider"?{cantBeStrider:!0}:null}isValidField(a,n){return a.controls[n].errors&&a.controls[n].touched}isFieldOneEqualFieldTwo(a,n){return o=>{let s=o.get(a)?.value,k=o.get(n)?.value;return s!==k?(o.get(n)?.setErrors({noEqual:!0}),{noEqual:!0}):(o.get(n)?.setErrors(null),null)}}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=g({token:r,factory:r.\u0275fac,providedIn:"root"})}};var x=class r{validate(a){let n=a.value;return new w(s=>{console.log({email:n}),n==="strider@gmail.com"&&(s.next({emailTaken:!0}),s.complete()),s.next(null),s.complete()}).pipe(N(2e3))}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=g({token:r,factory:r.\u0275fac,providedIn:"root"})}};function J(r,a){r&1&&(e(0,"span",13),i(1," Debe de ser en formato de nombre y apellido "),t())}function $(r,a){r&1&&(e(0,"span",13),i(1," mensaje de error del email "),t())}function H(r,a){r&1&&(e(0,"span",13),i(1," El username no puede ser Strider "),t())}function K(r,a){r&1&&(e(0,"span",13),i(1," La contrase\xF1a debe de ser mayor de 6 caracteres. "),t())}function Q(r,a){r&1&&(e(0,"span",13),i(1," Las contrase\xF1as deben de ser iguales "),t())}var C=class r{constructor(a,n,o){this.fb=a;this.validatorsService=n;this.emailValidator=o;this.myForm=this.fb.group({name:["",[m.required,m.pattern(this.validatorsService.firstNameAndLastnamePattern)]],email:["",[m.required,m.pattern(this.validatorsService.emailPattern)],[this.emailValidator]],username:["",[m.required,this.validatorsService.cantBeStrider]],password:["",[m.required,m.minLength(6)]],password2:["",[m.required,m.minLength(6)]]},{validators:[this.validatorsService.isFieldOneEqualFieldTwo("password","password2")]})}isValidField(a){return this.validatorsService.isValidField(this.myForm,a)}onSubmit(){if(this.myForm.invalid){this.myForm.markAllAsTouched();return}console.log(this.myForm.value),this.myForm.reset()}static{this.\u0275fac=function(n){return new(n||r)(E(D),E(b),E(x))}}static{this.\u0275cmp=P({type:r,selectors:[["ng-component"]],decls:76,vars:27,consts:[[1,"row"],[1,"col"],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["formControlName","name","type","text","placeholder","Nombre del usuario",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["formControlName","email","type","email","placeholder","Email del usuario",1,"form-control"],["formControlName","username","type","text","placeholder","Nombre c\xF3digo del usuario",1,"form-control"],["formControlName","password","type","password","placeholder","Password de su cuenta",1,"form-control"],["formControlName","password2","type","password","placeholder","Confirmar la contrase\xF1a",1,"form-control"],["type","submit",1,"btn","btn-primary","float-end"],[1,"form-text","text-danger"]],template:function(n,o){n&1&&(e(0,"h2"),i(1,"Validaciones Reactivas"),t(),p(2,"hr"),e(3,"div",0)(4,"div",1)(5,"form",2),j("ngSubmit",function(){return o.onSubmit()}),e(6,"div",3)(7,"label",4),i(8,"Nombre"),t(),e(9,"div",5),p(10,"input",6),v(11,J,2,0,"span",7),t()(),e(12,"div",3)(13,"label",4),i(14,"Email"),t(),e(15,"div",5),p(16,"input",8),v(17,$,2,0,"span",7),t()(),e(18,"div",3)(19,"label",4),i(20,"Username"),t(),e(21,"div",5),p(22,"input",9),v(23,H,2,0,"span",7),t()(),e(24,"div",3)(25,"label",4),i(26,"Password"),t(),e(27,"div",5),p(28,"input",10),v(29,K,2,0,"span",7),t()(),e(30,"div",3)(31,"label",4),i(32,"Confirmar"),t(),e(33,"div",5),p(34,"input",11),v(35,Q,2,0,"span",7),t()(),e(36,"div",0)(37,"div",1)(38,"button",12),i(39,"Crear"),t()()()()()(),e(40,"h2"),i(41),t(),e(42,"h2"),i(43),t(),e(44,"h2"),i(45),t(),e(46,"h2"),i(47,"Form errors"),t(),e(48,"pre"),i(49),u(50,"json"),t(),e(51,"h5"),i(52,"Nombre"),t(),e(53,"pre"),i(54),u(55,"json"),t(),e(56,"h5"),i(57,"Email"),t(),e(58,"pre"),i(59),u(60,"json"),t(),e(61,"h5"),i(62,"Username"),t(),e(63,"pre"),i(64),u(65,"json"),t(),e(66,"h5"),i(67,"Password"),t(),e(68,"pre"),i(69),u(70,"json"),t(),e(71,"h5"),i(72,"Confirmar"),t(),e(73,"pre"),i(74),u(75,"json"),t()),n&2&&(l(5),d("formGroup",o.myForm),l(6),d("ngIf",o.isValidField("name")),l(6),d("ngIf",o.isValidField("email")),l(6),d("ngIf",o.isValidField("username")),l(6),d("ngIf",o.isValidField("password")),l(6),d("ngIf",o.isValidField("password2")),l(6),y("Form Valid: ",o.myForm.valid,""),l(2),y("Form Status: ",o.myForm.status,""),l(2),y("Form Pending: ",o.myForm.pending,""),l(4),c(f(50,15,o.myForm.errors)),l(5),c(f(55,17,o.myForm.controls.name.errors)),l(5),c(f(60,19,o.myForm.controls.email.errors)),l(5),c(f(65,21,o.myForm.controls.username.errors)),l(5),c(f(70,23,o.myForm.value.password)),l(5),c(f(75,25,o.myForm.controls.password2.errors)))},dependencies:[R,q,B,T,M,O,L,A]})}};var W=[{path:"",children:[{path:"sign-up",component:C},{path:"**",redirectTo:"sign-up"}]}],V=class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=F({type:r})}static{this.\u0275inj=S({imports:[I.forChild(W),I]})}};var G=class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=F({type:r})}static{this.\u0275inj=S({imports:[_,V,z]})}};export{G as AuthModule};
